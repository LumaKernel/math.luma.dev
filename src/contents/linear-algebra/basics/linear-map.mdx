```toml
title = "線形写像"
published = true
```

## 線型写像

同じ$\K$上の線形空間$V, W$について、$f: V \to W$であって、つぎの性質を満たすものを線形空間という。

- 加算を保存: $f(\mathbf a + \mathbf b) = f(\mathbf a) + f(\mathbf b)$
- スカラー倍を保存: $c \cdot f(\mathbf a) = f(c \cdot \mathbf a)$

これは$V$から$W$への準同型射$\Hom{V, W}$にほかならない。つまり、$V$の構造を$W$の中にもっていく写像だ。

## 線型写像の性質

- $f(\mathbf 0) = \mathbf 0$
- $f(-\mathbf a) = -f(\mathbf a)$

## 線形変換

$V=W$であるような線型写像(つまり自己同型射ともいえる)を線形変換と呼ぶ。

## 表現行列

$V$と$W$を有限次元の線形空間とする。$n=\dim V, m=\dim W$とする。
また、$V$の基底$E^V = \begin{pmatrix}\mathbf e^V_0 & \mathbf e^V_1 & \cdots & \mathbf e^V_{n-1}\end{pmatrix}$と$W$の基底$E^W = \begin{pmatrix}\mathbf e^W_0 & \mathbf e^W_1 & \cdots & \mathbf e^W_{m-1}\end{pmatrix}$をとる。（任意のどれかをとると考えて良い）
線型写像$f: V \to W$を考える。$\mathbf v \in V$について、$f(\mathbf v) \eqqcolon \mathbf w$とする。

基底を用いれば、$\mathbf x \in \K^n$、$\mathbf y \in \K^m$が存在して、$\mathbf v = \t{\mathbf x} \cdot E^V$、$\mathbf w = \t{\mathbf y} \cdot E^W$と書ける。

このとき、$A \in \K^{m \times n}$が存在して、$A \mathbf x = \mathbf y$の形式で表せる。このときの$A$を表現行列と呼ぶ。

まとめると以下のような対比ができる。

```math
f(\mathbf v) = \mathbf w
\\
f\left(\t{\mathbf x} \cdot E^V\right) = \t{\mathbf y} \cdot E^W
\\
A \mathbf x = \mathbf y
```

線型写像$f$は行列で表せるということだ。

「表現行列で表すこと」を指して、行列表現と言ったりするが、英語では普通に _shown in matrix A_ のように書かれる。

<Save>
```math:inline
  A=
  \begin{pmatrix}
    f\left(\mathbf e^V_0\right) &
    f\left(\mathbf e^V_1\right) &
    \cdots &
    f\left(\mathbf e^V_{n-1}\right) \\
  \end{pmatrix}
```
</Save>
簡単に直感的な定義を与えると、[$]となる。

<Prove>
各$j \in n$について、$\displaystyle f(\mathbf e^V_j) = \sum_{i \in m} a_{i, j} \cdot \mathbf e^W_i$のように表わせる。

$A \coloneqq (a_{i,j})$が表現行列になる。それを導く。

```math!def
\gdef\yimat#1{\begin{pmatrix}a_{#1,0} & a_{#1,1} & \cdots & a_{#1,n-1}\end{pmatrix} \cdot \mathbf x}
```

```math trans
  \mathbf w
= f\left(\t{\mathbf x} \cdot \mathbf e^V\right)
= f\left(\sum_{j \in n} x_j \cdot \mathbf e^V_j\right)
= \sum_{j \in n} x_j \cdot f\left(\mathbf e^V_j\right)
= \sum_{j \in n} x_j \cdot \sum_{i \in m} a_{i,j} \cdot \mathbf e^W_i
= \sum_{i \in m} \left(\sum_{j \in n} a_{i,j} \cdot x_j\right) \cdot \mathbf e^W_i
```

<p>

```math trans
  y_j
= \sum_{j \in n} a_{i,j} \cdot x_j
= \yimat{i}
```

</p>

```math trans
  \mathbf y
= \begin{pmatrix}
  y_{0} \\
  y_{1} \\
  \vdots \\
  y_{m-1} \\
  \end{pmatrix}
= \begin{pmatrix}
  \yimat{0} \\
  \yimat{1} \\
  \vdots \\
  \yimat{m-1} \\
  \end{pmatrix}
=
  \begin{pmatrix}
    a_{0,0} & a_{0,1} & \cdots & a_{0,m-1}\\
    a_{1,0} & a_{1,1} & \cdots & a_{1,m-1}\\
    \vdots & \vdots & \ddots & \vdots\\
    a_{n-1,0} & a_{n-1,1} & \cdots & a_{n-1,m-1}\\
  \end{pmatrix}
  \cdot
  \mathbf x
=
  A \cdot \mathbf x
```
</Prove>

実際には$A$は基底$E^V$と$E^W$のとり方によって変わってくる。基底$E^V$と$E^W$を決めて、行列の世界に持ち込んだとき、線型写像も同様に行列の世界に持ち込める。

| 線形空間の世界 | 要素が$K$の行列の世界 |
|  :---:  |  :---:  |
|  $n$次元の線形空間$V$  |  $\K^n$  |
|  基底$E^V$  |  正規直交系$U$  |
|  $E^V$から${E^V}'$への基底変換  |  基底変換行列  |
|  $E^V$から$E^V$自身への基底変換  |  単位行列$I_n$  |
|  $v \in V$  |  $\mathbf x = \t{\begin{pmatrix}x_0 & x_1 & \cdots & x_{n-1}\end{pmatrix}} \in \K^n$  |
|  $k$個のベクトルのSEQ$A \in V^k$  |  行列$A=\begin{pmatrix}\mathbf a_0 & \mathbf a_1 & \cdots & \mathbf a_{k-1}\end{pmatrix} \in \K^{n \times k}$  |
|  ベクトルのSEQ$E^V$  |  単位行列$I_n$  |
|  線型写像$f \in \Hom{V, W}$  |  行列$A \in \K^{m \times n}$  |

なお、$A$の基底のとり方によるゆらぎは、基底変換行列で橋渡しできる。
