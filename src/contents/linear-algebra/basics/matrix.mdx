```toml
title = "行列の定義"
published = true

[import]
RememberRowColumnSvg = "!"
```

## 行列

行列とは要素を縦横に格子状に並べたもの、というのが素朴な定義。要素、行列とは一般にはなにか、という話が発展して議論されることになる。
それまでは、要素は特に断りがなければ実数とする。一部、複素数とする場合もあるが、そのときは明記する。

## 行列の表記

```math
\begin{matrix*}[l]
    A=
  &
    \begin{pmatrix}
      a_{0,0} & a_{0,1} & \cdots & a_{0,m-1}\\
      a_{1,0} & a_{1,1} & \cdots & a_{1,m-1}\\
      \vdots & \vdots & \ddots & \vdots\\
      a_{n-1,0} & a_{n-1,1} & \cdots & a_{n-1,m-1}\\
    \end{pmatrix}
  &
    \begin{matrix}
      \leftarrow\load{q:row}\\
      \\
      \\
      \\
    \end{matrix}
  \\
  &
    \kern{1.4em}\raisebox{0.6em}{$\uparrow$}
  &
  \\
  &
    \kern{0.2em}\load{q:column}
  &
\end{matrix*}
```

括弧は丸括弧$()$ではなく角括弧$[]$が使われることもある。上記のような行列を$n \times m$の 行列 と書く。

$n$は行数、$m$は列数と呼ぶ。

添字は基本的に$1$から始める事が多いと思うが、このサイトでは$0$で始めることにする。

$1 \times 1$の行列$(a)$は単なる$a$と表記する。これは、基本的に$1 \times 1$の行列とスカラーをしても、各種の性質が成立するからである。

$A = (a_{i, j})$とも書く。この表記は形式的な議論をする際に有用となる。また、$i, j$をデフォルトの添字用の変数とし、$A=(a_{i, k})_{i, k}$などのように特別に明示することにする。つまり、$(a_{i, j})=(a_{i, j})_{i,j}=(a_{s,t})_{s,t}$とする。

今後は、$A=(a_{i,j})$,$B=(b_{i,j})$,$A^\prime=(a^\prime_{i,j})$などのアルファベットに対応するものを自然な定義として、特別の断りなしに用いる。

## 行列の例

$2 \times 2$の行列

```math
\begin{pmatrix}
1 & 2 \\
3 & 4 \\
\end{pmatrix}
```

$3 \times 2$の行列

```math
\begin{pmatrix}
0.1 & 0 \\
0.2 & \pi \\
0.3 & 0 \\
\end{pmatrix}
```

## 余談: 行列全体の集合

このサイトでは、行列全体の集合を$\R^{n\times m}$と書くことにする。
根拠としては、集合論では自然数を$0\coloneqq\{\}, 1\coloneqq\{0\},\ 2\coloneqq\{0, 1\}, \cdots$というふうに集合論の言語に翻訳する技法があるのだが、これを利用していると考える。
まず、$Y^X$というのは$f: X\rightarrow Y$なる写像$f$すべてを表す集合として定義される。
これらの定義は冪集合の表記法のひとつである$2^S\coloneqq \mathcal{P}(S)$における$2$を$\{0,1\}$とみなした場合の整合性も取れている。
つまり、$n \times m = \{0, 1, \cdots, n-1\} \times \{0, 1, \cdots, m-1\}$ということになり、添字$(i, j) \in n \times m$から$\R$への写像が行列ということだ。

なお、他にも$M_{n,m}(\R)$と書くような流儀もある。

こうすると、$0 \times 0$の行列も考えられる。これはつまり、何も入っていない行列のみがある、ということだ。$\R^{0 \times 0} = \{\emptyset\}$(何も写さない写像のみを含む集合)ということになる。

## スカラー

各要素単体を、行列と区別してスカラーと呼ぶ。
今後、行列同士の演算や、行列とスカラーの演算が定義されることになる。

## ベクトル

ベクトルはスカラー値の有限列である。以下のように表記する。

```math
\mathbf{v}=
\begin{pmatrix}
v_0 \\
v_1 \\
\vdots \\
v_{n-1} \\
\end{pmatrix}
```

$n$のことをサイズと呼ぶことにする。

$n \times 1$の行列を列ベクトル、$1 \times n$の行列を行ベクトルと呼ぶ。

これ以降、ベクトルと列ベクトルとを同一視する。

また、$n \times m$の行列をサイズ$n$のベクトル$m$個を用いて以下のようにも記述する。

```math
A=
\begin{pmatrix}
\mathbf{v}_0 &
\mathbf{v}_1 &
\cdots &
\mathbf{v}_{m-1} \\
\end{pmatrix}
```

### ベクトルの例

```math
\mathbf{v}=
\begin{pmatrix}
1 \\
2 \\
3 \\
4 \\
\end{pmatrix}
```

```math
\mathbf{e}_2=
\begin{pmatrix}
0 \\ 0 \\ 1 \\ 0 \\
\end{pmatrix}
```

### 行ベクトルの例

```math
\mathbf{e}^\prime_1=
\begin{pmatrix}
0 & 1 & 0 & 0 \\
\end{pmatrix}
```

## 行と列の覚え方

行と列は以下のような暗記法がよく紹介される。

<RememberRowColumnSvg />

## 添字の順番の覚え方

<C w="row-column" template="覚え方%s. " start={1} />

$a_{i,j}$の$i$や$j$のことを添字と呼ぶ。

### <C w="row-column"/>座標系の軸に対応させてYXと覚える

一般的な二次元のデカルト座標系の軸は、おそらく横方向に$x$,縦方向に$y$が取られることが多いと思われる。それを基準に、$y, x$の順にインデックスを指定する、と覚える。

### <C w="row-column"/>プログラムの二次元配列と対応させて覚える

後述の[プログラムにおける行列](#プログラムにおける行列)にある、二次元の配列に対応させ、そのインデックス指定順と同一であると考える。

## プログラムにおける行列

プログラムにおいては、しばしば二次元の配列で表現される。

Python

```python
a = [[0 for j in range(3)] for i in range(3)]
print(a)
```

```json
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
```

Rust

```rust
fn main() {
    let a: Vec<Vec<i32>> = (0..3)
        .into_iter()
        .map(|_| (0..3).map(|_| 0).collect())
        .collect();
    println!("{:?}", a)
}
```


```json
[[0, 0, 0], [0, 0, 0], [0, 0, 0]]
```

## 余談: 一般化に備えて

前述の通り、要素などの代数的構造が何なのか、という話はのちに一般化される。基本的には実数 $\R$ や複素数 $\mathbb{C}$ として議論するが、すべて、体としての性質のみを用いることに着目するとよい。つまり、体 $K$に一般化されることになる。

以下に、体の公理を予備知識の必要ない簡単な形式で書く。

集合$K$と二項演算 (加算)$\sdot + \sdot: K\times K \rightarrow K$,(乗算)$\sdot \times \sdot: K\times K \rightarrow K$の組$(K, +, \times)$であって、

1. 加算の単位元$0$の存在: $\exists ~ 0 ~ [0 + a = a + 0 = a]$
1. 加算の逆元の存在: $\exists ~ b \in K ~ [a + b = 0 \wedge b + a = 0]$
  このような$b$は他の公理により一意に存在することがわかる。それを $-a$ と表記する。
1. 加算の交換律: $a + b = b + a$
1. 加算の結合律: $a + (b + c) = (a + b) + c$
1. 乗算の単位元$1$の存在: $\exists ~ 1 ~ [1 \times a = a \times 1 = a]$
1. 乗算の逆元の存在: $a \in (K\setminus\{0\})$について、$\exists ~ b \in K ~ [a \times b = 1 \wedge b \times a = 1]$
  このような$b$は他の公理により一意に存在することがわかる。それを$a^{-1}$と表記する。
1. 乗算の交換律: $a \times b = b \times a$
1. 乗算の結合律: $a \times (b \times c) = (a \times b) \times c$
1. 加算と乗算の分配律: $a(b+c) = ab + ac$

なお、乗算の演算は省略することがある。

これからの議論が上記の性質しか使っていないと確認できることが重要。
例えば、実数特有の性質は使わないということだ。さらに具体的には、例えば以下のようなことが守られるということ。

1. 有理数と無理数で場合分けするといったことをしない。
1. $2.2$などの$0, 1$以外の特殊な値を定義に使用しない。

行列はさらにその後、線形空間を対象として一般化される。そして、定義のいくつかの部分は無限へと拡張される。
